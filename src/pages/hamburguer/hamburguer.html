<ion-header>

  <ion-navbar>
    <h5>Hambúrguer</h5>
  </ion-navbar>

  <ion-item style="background-color:whitesmoke">
    Filtrar por:
    <button style="background-color: whitesmoke; color:#292929" ion-button round item-end (click)="defineFiltro(1)">Avaliação</button>
    <button style="background-color: whitesmoke; color:#292929" ion-button round item-end (click)="defineFiltro(2)">Nome</button>
    <button style="background-color: whitesmoke; color:#292929" ion-button round item-end (click)="defineFiltro(3)">Preço</button>
  </ion-item>

</ion-header>


<ion-content padding class="bg-style">

  <ion-list *ngFor="let item of locais;  let i = index">
    <div>
      <ion-card *ngIf="organizacao">
        <ion-card-content>
          {{item.data | date:'dd/MM/yy'}}
        </ion-card-content>
      </ion-card>
    </div>
    <div>
      <ion-card *ngIf="!organizacao">
        <ion-card-content>
          {{item.localizacao}}
        </ion-card-content>
      </ion-card>
    </div>

    <ion-card style="background-color:rgb(240, 240, 240)">
      <img class="imagem-card" src={{item.imagem}}>
      <ion-card-content>
        <ion-card-title>
          {{item.nome}}
        </ion-card-title>
        <p>
            <rating [(ngModel)]="item.avaliacao" 
            readOnly="true" 
            max="5" 
            emptyStarIconName="star-outline" 
            halfStarIconName="star-half" 
            starIconName="star" 
            nullable="false"> 
            </rating>
        </p>
        <script onload>
            getDistanceFromLatLonInKm(item.lat, item.long);
          </script>
       <p>Distância:{{getDistanceFromLatLonInKm(item.lat, item.long)}} km </p> 
         
        <p>
          Preço médio por pessoa: {{item.preco}}
        </p>
        <p>
          Avaliação: {{item.avaliacao}}
        </p>



      </ion-card-content>


      <button ion-button class=".left" clear small color="dark" icon-start (click)="abrirlocal(item.nome)">
        <ion-icon color="black" name='arrow-forward'></ion-icon>
        Detalhes
      </button>
    </ion-card>



  </ion-list>
</ion-content>
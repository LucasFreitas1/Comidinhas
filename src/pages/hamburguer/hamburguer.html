<ion-header>

  <ion-navbar>
    <h5>Hamburguer</h5>
  </ion-navbar>

  <ion-item style="background-color:whitesmoke">
    Filtrar por:
    <button style="background-color: whitesmoke; color:#292929" ion-button round item-end (click)="defineFiltro(1)">Data</button>
    <button style="background-color: whitesmoke; color:#292929" ion-button round item-end (click)="defineFiltro(2)">Localização</button>
  </ion-item>

</ion-header>


<ion-content padding class="bg-style">

  <ion-list *ngFor="let item of locais;  let i = index">
    <div>
      <ion-card *ngIf="organizacao">
        <ion-card-content>
          {{item.data | date:'dd/MM/yy'}}
        </ion-card-content>
      </ion-card>
    </div>
    <div>
      <ion-card *ngIf="!organizacao">
        <ion-card-content>
          {{item.localizacao}}
        </ion-card-content>
      </ion-card>
    </div>

    <ion-card style="background-color:rgb(240, 240, 240)">
      <img class="imagem-card" src={{item.imagem}}>
      <ion-card-content>
        <ion-card-title>
          {{item.nome}}
        </ion-card-title>

        <rating [(ngModel)]="item.avaliacao" 
        readOnly="true" 
        max="5" 
        emptyStarIconName="star-outline" 
        halfStarIconName="star-half" 
        starIconName="star" 
        nullable="false"> 
        </rating>
        
        <p>
          Preço médio por pessoa: {{item.preco}}
        </p>


      </ion-card-content>

      <ion-card-content *ngIf="item.open">
        <p>{{item.descricao}}</p>
        <br>
        <p>Endereço: {{item.endereco}}</p>
      </ion-card-content>
      <ion-col text-center>
        <button ion-button class=".left" clear small color="dark" icon-start *ngIf="!item.open" (click)="toggleSection(i)" [ngClass]="{'section-active': item.open, 'section': !item.open}">
          <ion-icon color="black" name='arrow-forward'></ion-icon>
          Detalhes
        </button>
        <br>
        <button ion-button class=".left" clear small color="dark" icon-start *ngIf="item.open" (click)="toggleSection(i)" [ngClass]="{'section-active': item.open, 'section': !item.open}">
          <ion-icon color="black" name='arrow-up'></ion-icon>
          Menos detalhes
        </button>
        <br>
        <a button ion-button class=".left" clear small color="dark" icon-start *ngIf="item.open" href="{{item.info}}" target="_blank">
          <ion-icon color="black" name='information-circle'></ion-icon>
          Mais Informações
        </a>
        <br>
        <a button ion-button class=".left" clear small color="dark" icon-start *ngIf="item.open" href="{{item.linkmaps}}" target="_blank">
          <ion-icon color="black" name='pin'></ion-icon>
          Localização
        </a>
      </ion-col>
    </ion-card>



  </ion-list>
</ion-content>